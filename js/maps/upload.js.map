{"version":3,"sources":["upload.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","db","firebase","initializeApp","database","dataInput","document","getElementById","addEventListener","keyCode","which","dataStr","value","vex","dialog","prompt","message","callback","data","JSON","parse","dataRef","ref","once","snapshot","exists","confirm","yes","set","then","done","alert","catch","err","console","log","error"],"mappings":"CAAA,SAAUA,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAkB,mBAATC,SAAqBA,QAAQ,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAI,IAAIK,EAAE,IAAIC,MAAM,uBAAuBN,EAAE,KAAK,MAAMK,EAAEE,KAAK,mBAAmBF,EAAE,IAAIG,EAAEX,EAAEG,IAAIS,YAAYb,EAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,IAAIE,EAAED,EAAEI,GAAG,GAAGL,GAAG,OAAOI,EAAEF,GAAIF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGS,QAAkD,IAAI,IAA1CL,EAAkB,mBAATD,SAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAAvb,EAA4ba,GAAG,SAAST,EAAQU,EAAOJ,GACvd,aAGA,IAAIK,GACHC,OAAQ,0CACRC,WAAY,2BACZC,YAAa,kCACbC,UAAW,WACXC,cAAe,uBACfC,kBAAmB,gBAIhBC,EAFmBC,SAASC,cAAcT,EAAQ,sBAE5BU,WAEtBC,EAAYC,SAASC,eAAe,cAExCF,EAAUG,iBAAiB,WAAY,SAAUjC,GAEhD,GAAe,OADDA,EAAEkC,SAAWlC,EAAEmC,OACR,CACpB,IAAIC,EAAUN,EAAUO,MACxBC,IAAIC,OAAOC,QACVC,QAAS,gBACTC,SAAU,SAAkB9B,GAC3B,GAAIA,GAAQwB,EAAS,CACpB,IAAIO,EAAOC,KAAKC,MAAMT,GAClBU,EAAUpB,EAAGqB,IAAI,qBAAuBnC,GAC5CkC,EAAQE,KAAK,QAAS,SAAUC,GAC1BA,EAASC,SAQbZ,IAAIC,OAAOY,SACVV,QAAS,gDACTC,SAAU,SAAkBU,GACvBA,EACHN,EAAQO,IAAIV,GAAMW,KAAK,SAAUC,GAChCjB,IAAIC,OAAOiB,MAAM,iCAAmC5C,KAClD6C,MAAM,SAAUC,GAClBpB,IAAIC,OAAOiB,MAAM,yBACjBG,QAAQC,IAAIF,KAGbpB,IAAIC,OAAOiB,MAAM,gCAlBpBV,EAAQO,IAAIV,GAAMW,KAAK,SAAUC,GAChCjB,IAAIC,OAAOiB,MAAM,yBAA2B5C,KAC1C6C,MAAM,SAAUC,GAClBpB,IAAIC,OAAOiB,MAAM,yBACjBG,QAAQC,IAAIF,OAmBZD,MAAM,SAAUC,GAClBpB,IAAIC,OAAOiB,MAAM,yBACjBG,QAAQE,MAAMH,sBAQT","file":"../upload.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\n// Initialize Firebase\nvar config = {\n\tapiKey: \"AIzaSyA9EYUXVL5WAh6Aam1qXlWyvi3b7HLcZ1U\",\n\tauthDomain: \"esigamma.firebaseapp.com\",\n\tdatabaseURL: \"https://esigamma.firebaseio.com\",\n\tprojectId: \"esigamma\",\n\tstorageBucket: \"esigamma.appspot.com\",\n\tmessagingSenderId: \"734163636039\"\n};\nvar FirebaseInstance = firebase.initializeApp(config, \"Davy Jones' Locker\");\n\nvar db = FirebaseInstance.database();\n\nvar dataInput = document.getElementById('input-data');\n\ndataInput.addEventListener('keypress', function (e) {\n\tvar keyCode = e.keyCode || e.which;\n\tif (keyCode == '13') {\n\t\tvar dataStr = dataInput.value;\n\t\tvex.dialog.prompt({\n\t\t\tmessage: \"Choose a Code\",\n\t\t\tcallback: function callback(code) {\n\t\t\t\tif (code && dataStr) {\n\t\t\t\t\tvar data = JSON.parse(dataStr);\n\t\t\t\t\tvar dataRef = db.ref('davy-jones-locker/' + code);\n\t\t\t\t\tdataRef.once('value', function (snapshot) {\n\t\t\t\t\t\tif (!snapshot.exists()) {\n\t\t\t\t\t\t\tdataRef.set(data).then(function (done) {\n\t\t\t\t\t\t\t\tvex.dialog.alert(\"Data saved with code: \" + code);\n\t\t\t\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t\t\t\tvex.dialog.alert(\"Something went wrong.\");\n\t\t\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvex.dialog.confirm({\n\t\t\t\t\t\t\t\tmessage: \"Code already in use. Overwrite existing data?\",\n\t\t\t\t\t\t\t\tcallback: function callback(yes) {\n\t\t\t\t\t\t\t\t\tif (yes) {\n\t\t\t\t\t\t\t\t\t\tdataRef.set(data).then(function (done) {\n\t\t\t\t\t\t\t\t\t\t\tvex.dialog.alert(\"Data saved, overwriting code: \" + code);\n\t\t\t\t\t\t\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t\t\t\t\t\t\tvex.dialog.alert(\"Something went wrong.\");\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tvex.dialog.alert(\"Data was not overwritten.\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t\tvex.dialog.alert(\"Something went wrong.\");\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvdXBsb2FkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTtBQUNBLElBQUksU0FBUztBQUNaLFNBQVEseUNBREk7QUFFWixhQUFZLDBCQUZBO0FBR1osY0FBYSxpQ0FIRDtBQUlaLFlBQVcsVUFKQztBQUtaLGdCQUFlLHNCQUxIO0FBTVosb0JBQW1CO0FBTlAsQ0FBYjtBQVFBLElBQUksbUJBQW1CLFNBQVMsYUFBVCxDQUF1QixNQUF2QixFQUErQixvQkFBL0IsQ0FBdkI7O0FBRUEsSUFBSSxLQUFLLGlCQUFpQixRQUFqQixFQUFUOztBQUVBLElBQUksWUFBWSxTQUFTLGNBQVQsQ0FBd0IsWUFBeEIsQ0FBaEI7O0FBRUEsVUFBVSxnQkFBVixDQUEyQixVQUEzQixFQUF1QyxVQUFDLENBQUQsRUFBTztBQUM3QyxLQUFJLFVBQVUsRUFBRSxPQUFGLElBQWEsRUFBRSxLQUE3QjtBQUNBLEtBQUksV0FBVyxJQUFmLEVBQW9CO0FBQ25CLE1BQUksVUFBVSxVQUFVLEtBQXhCO0FBQ0EsTUFBSSxNQUFKLENBQVcsTUFBWCxDQUFrQjtBQUNqQixZQUFTLGVBRFE7QUFFakIsYUFBVSxrQkFBQyxJQUFELEVBQVU7QUFDbkIsUUFBSSxRQUFRLE9BQVosRUFBcUI7QUFDcEIsU0FBSSxPQUFPLEtBQUssS0FBTCxDQUFXLE9BQVgsQ0FBWDtBQUNBLFNBQUksVUFBVSxHQUFHLEdBQUgsQ0FBTyx1QkFBdUIsSUFBOUIsQ0FBZDtBQUNBLGFBQVEsSUFBUixDQUFhLE9BQWIsRUFBc0IsVUFBQyxRQUFELEVBQWM7QUFDbkMsVUFBSSxDQUFDLFNBQVMsTUFBVCxFQUFMLEVBQXdCO0FBQ3ZCLGVBQVEsR0FBUixDQUFZLElBQVosRUFBa0IsSUFBbEIsQ0FBdUIsVUFBQyxJQUFELEVBQVU7QUFDaEMsWUFBSSxNQUFKLENBQVcsS0FBWCxDQUFpQiwyQkFBMkIsSUFBNUM7QUFDQSxRQUZELEVBRUcsS0FGSCxDQUVTLFVBQUMsR0FBRCxFQUFTO0FBQ2pCLFlBQUksTUFBSixDQUFXLEtBQVgsQ0FBaUIsdUJBQWpCO0FBQ0EsZ0JBQVEsR0FBUixDQUFZLEdBQVo7QUFDQSxRQUxEO0FBTUEsT0FQRCxNQU9PO0FBQ04sV0FBSSxNQUFKLENBQVcsT0FBWCxDQUFtQjtBQUNsQixpQkFBUywrQ0FEUztBQUVsQixrQkFBVSxrQkFBQyxHQUFELEVBQVM7QUFDbEIsYUFBSSxHQUFKLEVBQVM7QUFDUixrQkFBUSxHQUFSLENBQVksSUFBWixFQUFrQixJQUFsQixDQUF1QixVQUFDLElBQUQsRUFBVTtBQUNoQyxlQUFJLE1BQUosQ0FBVyxLQUFYLENBQWlCLG1DQUFtQyxJQUFwRDtBQUNBLFdBRkQsRUFFRyxLQUZILENBRVMsVUFBQyxHQUFELEVBQVM7QUFDakIsZUFBSSxNQUFKLENBQVcsS0FBWCxDQUFpQix1QkFBakI7QUFDQSxtQkFBUSxHQUFSLENBQVksR0FBWjtBQUNBLFdBTEQ7QUFNQSxVQVBELE1BT087QUFDTixjQUFJLE1BQUosQ0FBVyxLQUFYLENBQWlCLDJCQUFqQjtBQUNBO0FBQ0Q7QUFiaUIsUUFBbkI7QUFlQTtBQUNELE1BekJELEVBeUJHLEtBekJILENBeUJTLFVBQUMsR0FBRCxFQUFTO0FBQ2pCLFVBQUksTUFBSixDQUFXLEtBQVgsQ0FBaUIsdUJBQWpCO0FBQ0EsY0FBUSxLQUFSLENBQWMsR0FBZDtBQUNBLE1BNUJEO0FBNkJBO0FBQ0Q7QUFwQ2dCLEdBQWxCO0FBc0NBO0FBQ0QsQ0EzQ0QiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZVxudmFyIGNvbmZpZyA9IHtcblx0YXBpS2V5OiBcIkFJemFTeUE5RVlVWFZMNVdBaDZBYW0xcVhsV3l2aTNiN0hMY1oxVVwiLFxuXHRhdXRoRG9tYWluOiBcImVzaWdhbW1hLmZpcmViYXNlYXBwLmNvbVwiLFxuXHRkYXRhYmFzZVVSTDogXCJodHRwczovL2VzaWdhbW1hLmZpcmViYXNlaW8uY29tXCIsXG5cdHByb2plY3RJZDogXCJlc2lnYW1tYVwiLFxuXHRzdG9yYWdlQnVja2V0OiBcImVzaWdhbW1hLmFwcHNwb3QuY29tXCIsXG5cdG1lc3NhZ2luZ1NlbmRlcklkOiBcIjczNDE2MzYzNjAzOVwiXG59O1xudmFyIEZpcmViYXNlSW5zdGFuY2UgPSBmaXJlYmFzZS5pbml0aWFsaXplQXBwKGNvbmZpZywgXCJEYXZ5IEpvbmVzJyBMb2NrZXJcIik7XG5cbnZhciBkYiA9IEZpcmViYXNlSW5zdGFuY2UuZGF0YWJhc2UoKTtcblxubGV0IGRhdGFJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dC1kYXRhJyk7XG5cbmRhdGFJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIChlKSA9PiB7XG5cdGxldCBrZXlDb2RlID0gZS5rZXlDb2RlIHx8IGUud2hpY2g7XG5cdGlmIChrZXlDb2RlID09ICcxMycpe1xuXHRcdGxldCBkYXRhU3RyID0gZGF0YUlucHV0LnZhbHVlO1xuXHRcdHZleC5kaWFsb2cucHJvbXB0KHtcblx0XHRcdG1lc3NhZ2U6IFwiQ2hvb3NlIGEgQ29kZVwiLFxuXHRcdFx0Y2FsbGJhY2s6IChjb2RlKSA9PiB7XG5cdFx0XHRcdGlmIChjb2RlICYmIGRhdGFTdHIpIHtcblx0XHRcdFx0XHRsZXQgZGF0YSA9IEpTT04ucGFyc2UoZGF0YVN0cik7XG5cdFx0XHRcdFx0bGV0IGRhdGFSZWYgPSBkYi5yZWYoJ2Rhdnktam9uZXMtbG9ja2VyLycgKyBjb2RlKTtcblx0XHRcdFx0XHRkYXRhUmVmLm9uY2UoJ3ZhbHVlJywgKHNuYXBzaG90KSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAoIXNuYXBzaG90LmV4aXN0cygpKSB7XG5cdFx0XHRcdFx0XHRcdGRhdGFSZWYuc2V0KGRhdGEpLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRcdFx0XHR2ZXguZGlhbG9nLmFsZXJ0KFwiRGF0YSBzYXZlZCB3aXRoIGNvZGU6IFwiICsgY29kZSk7XG5cdFx0XHRcdFx0XHRcdH0pLmNhdGNoKChlcnIpID0+IHtcblx0XHRcdFx0XHRcdFx0XHR2ZXguZGlhbG9nLmFsZXJ0KFwiU29tZXRoaW5nIHdlbnQgd3JvbmcuXCIpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dmV4LmRpYWxvZy5jb25maXJtKHtcblx0XHRcdFx0XHRcdFx0XHRtZXNzYWdlOiBcIkNvZGUgYWxyZWFkeSBpbiB1c2UuIE92ZXJ3cml0ZSBleGlzdGluZyBkYXRhP1wiLFxuXHRcdFx0XHRcdFx0XHRcdGNhbGxiYWNrOiAoeWVzKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoeWVzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGFSZWYuc2V0KGRhdGEpLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2ZXguZGlhbG9nLmFsZXJ0KFwiRGF0YSBzYXZlZCwgb3ZlcndyaXRpbmcgY29kZTogXCIgKyBjb2RlKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSkuY2F0Y2goKGVycikgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZleC5kaWFsb2cuYWxlcnQoXCJTb21ldGhpbmcgd2VudCB3cm9uZy5cIik7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2ZXguZGlhbG9nLmFsZXJ0KFwiRGF0YSB3YXMgbm90IG92ZXJ3cml0dGVuLlwiKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pLmNhdGNoKChlcnIpID0+IHtcblx0XHRcdFx0XHRcdHZleC5kaWFsb2cuYWxlcnQoXCJTb21ldGhpbmcgd2VudCB3cm9uZy5cIik7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGVycik7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxufSk7Il19\n"]}